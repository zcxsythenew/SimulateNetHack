# SimulateNetHack
Copyright 2018 Zcxsythenew
###
This project is created with Visual Studio 2017. The type of project is Linux console app written in C++.

## 项目主要内容
改编NetHack使规则大大简化，然后实现改编后的游戏。
该项目在Linux的终端上运行。
 
## 代码运行方法
### 使用的头文件
/usr/include/iostream
/usr/include/fstream
/usr/include/string
/usr/include/cstdio
/usr/include/termios.h
/usr/include/list
/usr/include/queue
项目内的其它.h文件
### 依赖的第三方库
无
### 如何编译
g++ -std=c++11 game.cpp main.cpp Monster.cpp Player.cpp Square.cpp -o game.out
### 如何运行
./game.out
运行后会在当前目录下存放userInfo.txt文件，仅存放了用户名。如果有强迫症，你可以放心地将其删除。
游戏结束后会立即退出，会在终端上留有游戏界面残余。可在游戏结束后输入命令clear将界面上推至不可见的位置。
## 操作方法
首次使用会询问用户名。
 
输入用户名后将弹出提示，可按任意键继续。
 
游戏规则十分简单，当玩家找到以黄色的&标记之后则成功。
按任意键之后将进入主界面，玩家仅可看到自身及周围的8个格，以及怪物的位置。
 
按下键盘上的方向键可实现正四方向的移动，按下YUBN可实现斜四方向的移动，按.键休息。此外，小键盘数字键1~4、6~9（需启用Num Lock）也可实现8方向移动，按5键休息。
 
玩家移动后可以看见自己移动的轨迹。玩家每移动一步，怪物也移动一步。
括号“（”、“）”标志代表道具。玩家移动到道具上即可自动拾起，同时屏幕上出现提示信息。“（”代表dagger，“）”代表medical aid，功能如下图所示。
 
“#”标志代表墙，玩家和怪物均不可穿越。怪物非常聪明，它可以使用BFS来找到玩家。怪物的移动轨迹也在屏幕上显示，如果发现怪物绕了远路，就可能提示着有墙。
一般而言，你需要避开墙；但另一方面，目标“&”往往总是出现在墙的最深处。
 
玩家每移动或休息10步将出现新的怪物。
 
如果玩家移动后怪物可以在周围8个格接触到玩家，怪物将发起攻击，玩家的HP减1。玩家的总HP为15且不可恢复。玩家被怪物包围时，可以选择使用拾到的dagger将其立即杀死。方法是按下a，然后再按下方向键、YUBN或者1~4、6~9。
 
玩家没有道具或者认为不需要使用道具时，可以选择与其赤身肉搏，方法是按下使玩家移动到怪物位置的键。赤身肉搏时，怪物的HP=2，玩家有67%的概率使其HP减1。
 
当怪物HP为1时显红色，为0时立即消失。同时注意赤身肉搏将占用步数，使用道具将不占用步数。步数意味着新怪物出现的频率，同时也意味着其它怪物会靠近或攻击。即使成功使怪物的HP从2减到1，被攻击的怪物也会发起攻击，所以赤身肉搏打死一个怪物的代价至少是1个HP。所以要非常善于利用道具。
注意：两只怪物有可能走到一起，但地图上只显示一个。由于怪物非常善于使用BFS算法，因此怪物扎堆是很常见的事情，如果不处理好，玩家的HP会掉得非常快。这是很具有挑战性的。
 
地图上还有一些陷阱。玩家在踩入陷阱之前无法发现它们，踩入陷阱之后陷阱将以“^”符号标示。玩家走入陷阱将立即使HP减1，并不限制下一步的活动。但medical aid道具可以使玩家踩入陷阱之后免于减少HP。
 
当玩家HP小于或等于0（小于0的原因是被怪物围攻）时游戏结束，并标记出&的实际位置。
 
在HP减少到0之前，玩家找到&之后（方法是将玩家的位置移动到&上）游戏成功并结束。留意上图目标的位置，它几乎总是出现在墙壁的最深处，如果目标不在此处，玩家将有被围攻的风险。

地图为80x20，陷阱有15个，道具有70个，其中每个道具出现dagger的概率为5/7，出现medical aid的概率为2/7，初始怪物1个，玩家每移动或休息10步，怪物增加1个。目标&在地图上只有1个。地图上的墙的数量和长度均随机。墙不与边界相连，两堵墙之间也不相连，且不存在封闭的墙。

注意：有了怪物的存在，你几乎不可能走完整个图。要记住&几乎总是藏在最深处这一点，这对通关很有帮助。

